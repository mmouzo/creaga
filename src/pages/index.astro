---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import TableOfContents from '../components/TableOfContents.astro';
import Section from '../components/Section.astro';
import Card from '../components/Card.astro';
import Logo from '../components/Logo.astro';
import BreedGallery from '../components/BreedGallery';
import DesignEvolution from '../components/DesignEvolution.astro';
import InteractiveChart from '../components/InteractiveChart';
import Accordion from '../components/Accordion';
import AnimatedSection from '../components/AnimatedSection';
import ScrollAnimations from '../components/ScrollAnimations';
---

<Layout title="CRIAGA - Centro de Cr√≠a de Razas Galegas">
  <Navigation />
  <TableOfContents />
  <ScrollAnimations client:load />
  
  <main class="container mx-auto px-6 py-12 max-w-7xl">
    
    <!-- Hero Section with Background Logo -->
    <section class="hero-section relative text-center mb-24 py-20 overflow-hidden">
      <!-- Background Logo -->
      <div class="absolute inset-0 flex items-center justify-center opacity-5 z-0">
        <img 
          src="/images/image127.png" 
          alt="CRIAGA Logo Background" 
          class="w-96 h-96 object-contain hero-bg"
          loading="eager"
        />
      </div>
      
      <!-- Content with higher z-index -->
      <div class="relative z-10 max-w-4xl mx-auto">
        <AnimatedSection animation="fadeIn" client:load>
          <h1 class="text-6xl md:text-7xl font-bold font-serif text-criaga-red mb-4 relative z-20">
            CRIAGA
          </h1>
          <h2 class="text-2xl md:text-3xl font-semibold text-criaga-gray mb-8 relative z-20">
            Centro de Cr√≠a de Razas Galegas
          </h2>
        </AnimatedSection>
        
        <AnimatedSection animation="slideUp" delay={0.3} client:load>
          <p class="text-xl md:text-2xl text-gray-600 mb-8 relative z-20">
            Un proyecto innovador para investigar una nueva ruralidad
          </p>
        </AnimatedSection>
        
        <AnimatedSection animation="slideUp" delay={0.6} client:load>
          <p class="text-lg text-gray-700 leading-relaxed mb-12 relative z-20">
            CRIAGA busca poner en valor las razas aut√≥ctonas gallegas, los terrenos de pasto y cultivo, 
            y actuar como un catalizador para la revitalizaci√≥n de la comunidad rural de Lusqui√±os, Pontevedra.
          </p>
        </AnimatedSection>
        
        <AnimatedSection animation="scale" delay={0.9} client:load>
          <div class="flex flex-wrap justify-center gap-4 relative z-20">
            <a 
              href="#vision" 
              class="bg-criaga-red text-white px-8 py-3 rounded-lg font-semibold hover:bg-criaga-red-light transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
            >
              Explorar Proyecto
            </a>
            <a 
              href="#entorno" 
              class="border-2 border-criaga-red text-criaga-red px-8 py-3 rounded-lg font-semibold hover:bg-criaga-red hover:text-white transition-all duration-300"
            >
              Conocer M√°s
            </a>
          </div>
        </AnimatedSection>
      </div>
    </section>

    <!-- Section 1: Visi√≥n General -->
    <Section 
      id="vision" 
      title="Visi√≥n General del Proyecto"
      subtitle="CRIAGA integra tres elementos fundamentales: la granja como n√∫cleo productivo, la vivienda como anclaje comunitario, y el centro de visitantes como espacio de divulgaci√≥n y formaci√≥n."
      className="reveal-section"
    >
      <div class="grid md:grid-cols-3 gap-8 cards-container">
        <Card title="La Granja" className="animate-card">
          <div class="mb-4">
            <img 
              src="/images/image12.png" 
              alt="Vista de la granja" 
              class="w-full h-32 object-cover rounded-lg mb-4" 
              loading="lazy"
              width="400"
              height="128"
            >
          </div>
          <p class="text-gray-600 leading-relaxed">
            El n√∫cleo del proyecto. Un espacio para la cr√≠a extensiva y ecol√≥gica de seis razas 
            de vacas gallegas, adem√°s de cabras, ovejas y gallinas, integrando el bienestar animal 
            con el paisaje natural.
          </p>
        </Card>
        
        <Card title="La Vivienda" className="animate-card">
          <div class="mb-4">
            <img 
              src="/images/image13.png" 
              alt="Vista de la vivienda" 
              class="w-full h-32 object-cover rounded-lg mb-4" 
              loading="lazy"
              width="400"
              height="128"
            >
          </div>
          <p class="text-gray-600 leading-relaxed">
            Una unidad de vivienda m√≠nima para los encargados, dise√±ada para anclarse con la 
            comunidad existente, rehabilitando y ampliando una construcci√≥n preexistente con 
            criterios de sostenibilidad.
          </p>
        </Card>
        
        <Card title="Centro de Visitantes" className="animate-card">
          <div class="mb-4">
            <img 
              src="/images/image14.png" 
              alt="Centro de visitantes" 
              class="w-full h-32 object-cover rounded-lg mb-4" 
              loading="lazy"
              width="400"
              height="128"
            >
          </div>
          <p class="text-gray-600 leading-relaxed">
            Un espacio para la divulgaci√≥n, formaci√≥n y exposici√≥n, incluyendo una bodega para 
            recuperar la viticultura local con variedades aut√≥ctonas como Cai√±o Blanco y Tinto.
          </p>
        </Card>
      </div>
    </Section>

    <!-- Section 2: An√°lisis del Entorno -->
    <Section 
      id="entorno" 
      title="An√°lisis del Entorno"
      subtitle="El dise√±o de CRIAGA nace de un profundo an√°lisis del territorio. Se busca recuperar elementos perdidos y potenciar los existentes para revitalizar el n√∫cleo rural de Lusqui√±os."
      className="reveal-section"
    >
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        <AnimatedSection animation="slideUp" delay={0} client:load>
          <Card className="text-center h-full">
            <div class="mb-4">
              <div class="w-16 h-16 bg-criaga-red/10 rounded-full flex items-center justify-center mx-auto mb-3">
                <svg class="w-8 h-8 text-criaga-red" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold font-serif text-criaga-red mb-2">Caminos</h4>
            </div>
            <p class="text-gray-600 text-sm leading-relaxed">
              Recuperaci√≥n de la red parroquial hist√≥rica de caminos, generando conexiones peatonales 
              seguras y rutas para el ganado que revitalicen los lugares de encuentro vecinal.
            </p>
          </Card>
        </AnimatedSection>
        
        <AnimatedSection animation="slideUp" delay={0.1} client:load>
          <Card className="text-center h-full">
            <div class="mb-4">
              <div class="w-16 h-16 bg-criaga-red/10 rounded-full flex items-center justify-center mx-auto mb-3">
                <svg class="w-8 h-8 text-criaga-red" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold font-serif text-criaga-red mb-2">Emparrados</h4>
            </div>
            <p class="text-gray-600 text-sm leading-relaxed">
              Reactivaci√≥n de la viticultura tradicional mediante la plantaci√≥n de vi√±edos (emparrados), 
              coexistiendo con la ganader√≠a y recuperando un elemento cultural en desuso.
            </p>
          </Card>
        </AnimatedSection>
        
        <AnimatedSection animation="slideUp" delay={0.2} client:load>
          <Card className="text-center h-full">
            <div class="mb-4">
              <div class="w-16 h-16 bg-criaga-red/10 rounded-full flex items-center justify-center mx-auto mb-3">
                <svg class="w-8 h-8 text-criaga-red" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold font-serif text-criaga-red mb-2">Monte Comunal</h4>
            </div>
            <p class="text-gray-600 text-sm leading-relaxed">
              Puesta en valor del monte comunal como un elemento productivo a trav√©s del pastoreo, 
              la limpieza de especies invasoras y la reforestaci√≥n, previniendo incendios.
            </p>
          </Card>
        </AnimatedSection>
        
        <AnimatedSection animation="slideUp" delay={0.3} client:load>
          <Card className="text-center h-full">
            <div class="mb-4">
              <div class="w-16 h-16 bg-criaga-red/10 rounded-full flex items-center justify-center mx-auto mb-3">
                <svg class="w-8 h-8 text-criaga-red" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M9 10v4a2 2 0 002 2h2a2 2 0 002-2v-4M9 10V9a2 2 0 012-2h2a2 2 0 012 2v1"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold font-serif text-criaga-red mb-2">R√≠o Gafos</h4>
            </div>
            <p class="text-gray-600 text-sm leading-relaxed">
              Respeto por el espacio fluvial, manteniendo el proyecto alejado del cauce para prevenir 
              problemas futuros y permitir que la naturaleza act√∫e como corredor ecol√≥gico.
            </p>
          </Card>
        </AnimatedSection>
      </div>
    </Section>

    <!-- Section 3: Programa Ganadero -->
    <Section 
      id="programa" 
      title="Programa Ganadero y de Espacios"
      subtitle="El programa se dimensiona para cumplir con los requisitos de la ganader√≠a ecol√≥gica, primando el bienestar de las razas aut√≥ctonas y el aprovechamiento sostenible del entorno."
    >
      <AnimatedSection animation="fadeIn" client:load>
        <BreedGallery client:load />
      </AnimatedSection>
    </Section>

    <!-- Section 4: Dise√±o Arquitect√≥nico -->
    <Section 
      id="diseno" 
      title="Evoluci√≥n del Dise√±o Arquitect√≥nico"
      subtitle="La arquitectura del proyecto busca una integraci√≥n total con el entorno. La granja se concibe como un elemento que conecta la zona baja de pastos con el monte, fusion√°ndose con la topograf√≠a."
    >
      <AnimatedSection animation="slideUp" client:load>
        <DesignEvolution />
      </AnimatedSection>
    </Section>

    <!-- Section 5: An√°lisis T√©cnico y Econ√≥mico -->
    <Section 
      id="analisis" 
      title="An√°lisis T√©cnico y Econ√≥mico"
      subtitle="El proyecto se fundamenta en un riguroso an√°lisis t√©cnico, cumpliendo con toda la normativa vigente, y se define con un presupuesto detallado que asegura su viabilidad."
      className="progress-section"
    >
      <!-- Resumen Econ√≥mico Principal -->
      <AnimatedSection animation="fadeIn" client:load>
        <Card title="Resumen Econ√≥mico del Proyecto" className="text-center mb-12">
          <div class="grid md:grid-cols-3 gap-8 mb-8">
            <div class="text-center">
              <div class="text-4xl font-bold text-criaga-red mb-2 counter" data-target="3087245">
                3.087.245,68 ‚Ç¨
              </div>
              <div class="text-sm uppercase tracking-wider text-gray-500">Ejecuci√≥n Material</div>
            </div>
            <div class="text-center">
              <div class="text-4xl font-bold text-criaga-red mb-2 counter" data-target="4594747">
                4.594.747,74 ‚Ç¨
              </div>
              <div class="text-sm uppercase tracking-wider text-gray-500">Presupuesto Total (IVA inc.)</div>
            </div>
            <div class="text-center">
              <div class="text-4xl font-bold text-criaga-red mb-2">
                36.688,57 m¬≤
              </div>
              <div class="text-sm uppercase tracking-wider text-gray-500">Superficie Total</div>
            </div>
          </div>
          <div class="text-center">
            <div class="inline-block px-6 py-3 bg-criaga-red/10 rounded-lg">
              <span class="text-lg font-medium text-criaga-red">Coste por m¬≤: 125,23 ‚Ç¨/m¬≤</span>
            </div>
          </div>
        </Card>
      </AnimatedSection>

      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <!-- Distribuci√≥n del Presupuesto -->
        <AnimatedSection animation="slideLeft" client:load>
          <Card title="Distribuci√≥n del Presupuesto por Cap√≠tulos">
            <InteractiveChart
              id="budgetChart"
              type="doughnut"
              data={{
                labels: ['Acond. Terreno', 'Estructuras', 'Urbanizaci√≥n', 'Instalaciones', 'Cimentaciones', 'Cubiertas', 'Aislamientos', 'Carpinter√≠as', 'Otros'],
                datasets: [{
                  label: 'Distribuci√≥n del Presupuesto',
                  data: [27.42, 22.28, 14.21, 12.27, 9.70, 5.80, 2.94, 3.37, 2.01],
                  backgroundColor: ['#8C1D18', '#A6231D', '#BF4A3F', '#D97566', '#F2A499', '#E5A584', '#E5B384', '#E5C284', '#E5E5E5'],
                  borderColor: '#FCFBF8',
                  borderWidth: 3,
                  hoverOffset: 12,
                  // Datos adicionales para tooltips detallados
                  detailedInfo: [
                    { description: 'Movimiento de tierras y preparaci√≥n del terreno', cost: 8464.02, unit: '‚Ç¨' },
                    { description: 'Estructuras principales de hormig√≥n y acero', cost: 6878.63, unit: '‚Ç¨' },
                    { description: 'Viales, senderos y √°reas de acceso', cost: 4386.79, unit: '‚Ç¨' },
                    { description: 'Electricidad, fontaner√≠a y sistemas t√©cnicos', cost: 3788.02, unit: '‚Ç¨' },
                    { description: 'Cimentaciones y zapatas de estructuras', cost: 2994.62, unit: '‚Ç¨' },
                    { description: 'Cubiertas y sistemas de impermeabilizaci√≥n', cost: 1790.58, unit: '‚Ç¨' },
                    { description: 'Aislamientos t√©rmicos y ac√∫sticos', cost: 907.65, unit: '‚Ç¨' },
                    { description: 'Ventanas, puertas y elementos de cierre', cost: 1040.40, unit: '‚Ç¨' },
                    { description: 'Partidas menores y varios', cost: 620.41, unit: '‚Ç¨' }
                  ]
                }]
              }}
              options={{
                plugins: {
                  legend: {
                    position: 'bottom',
                    labels: {
                      padding: 20,
                      usePointStyle: true,
                      pointStyle: 'circle'
                    }
                  },
                  tooltip: {
                    callbacks: {
                      title: (context: any) => {
                        const dataIndex = context[0].dataIndex;
                        return `${context[0].label} - ${context[0].parsed}%`;
                      },
                      label: function(context: any) {
                        console.log('üöÄ DOUGHNUT TOOLTIP TRIGGERED:', context);
                        const cost = (context.parsed * 30872.46 / 100).toFixed(0);
                        return `TEST: ${context.label} - ${context.parsed}% (${cost} ‚Ç¨)`;
                      },
                      afterLabel: (context: any) => {
                        const dataIndex = context.dataIndex;
                        const detailedInfo = context.dataset.detailedInfo[dataIndex];
                        const m2Cost = (detailedInfo.cost / 246.63).toFixed(2); // ‚Ç¨/m¬≤ basado en superficie total
                        
                        return [
                          '',
                          `üìã ${detailedInfo.description}`,
                          '',
                          `ÔøΩ Coste por m¬≤: ${m2Cost} ‚Ç¨/m¬≤`,
                          `üìä ${context.parsed}% del presupuesto total`,
                          '',
                          `üèóÔ∏è Proyecto CRIAGA - Centro de Recuperaci√≥n`,
                          `üå≤ Enfoque en sostenibilidad y biodiversidad`
                        ];
                      }
                    }
                  }
                },
                interaction: {
                  intersect: false,
                  mode: 'nearest'
                }
              }}
              height={350}
              client:load
            />
          </Card>
        </AnimatedSection>

        <!-- Distribuci√≥n de Superficies -->
        <AnimatedSection animation="slideRight" client:load>
          <Card title="Distribuci√≥n de Superficies del Proyecto">
            <InteractiveChart
              id="superficiesChart"
              type="bar"
              data={{
                labels: ['Carballeira', 'Vi√±edos', 'Zona Ext. Vacas', 'Granja', 'Eira', 'Caminos', 'Cultivos', 'Invernaderos'],
                datasets: [{
                  label: 'Superficie (m¬≤)',
                  data: [12359.98, 4993.75, 4181.67, 2989.32, 2287.89, 1511.95, 1449.79, 432.00],
                  backgroundColor: ['#8C1D18', '#A6231D', '#BF4A3F', '#D97566', '#F2A499', '#E5A584', '#E5B384', '#E5C284'],
                  borderColor: '#8C1D18',
                  borderWidth: 1
                }]
              }}
              options={{
                indexAxis: 'y',
                plugins: {
                  legend: { display: false }
                },
                scales: {
                  x: {
                    beginAtZero: true,
                    title: {
                      display: true,
                      text: 'Superficie (m¬≤)'
                    }
                  }
                }
              }}
              height={350}
              client:load
            />
          </Card>
        </AnimatedSection>
      </div>

      <!-- An√°lisis Comparativo -->
      <div class="grid lg:grid-cols-2 gap-12 mt-12">
        <!-- Desglose de Costes por √Årea -->
        <AnimatedSection animation="slideUp" delay={0.2} client:load>
          <Card title="An√°lisis de Costes por √Årea Funcional">
            <InteractiveChart
              id="costAreasChart"
              type="pie"
              data={{
                labels: ['Infraestructura', 'Edificaciones', 'Paisajismo', 'Instalaciones', 'Acabados'],
                datasets: [{
                  label: 'Coste por √Årea',
                  data: [41.63, 28.08, 14.21, 12.27, 3.81],
                  backgroundColor: ['#8C1D18', '#A6231D', '#BF4A3F', '#D97566', '#F2A499'],
                  borderColor: '#FCFBF8',
                  borderWidth: 2,
                  hoverOffset: 10,
                  // Datos adicionales para tooltips detallados
                  detailedInfo: [
                    { 
                      description: 'Acondicionamiento de terreno, cimentaciones y estructuras b√°sicas',
                      items: ['Movimiento de tierras', 'Cimentaciones', 'Estructuras principales'],
                      cost: 12848.27,
                      unit: '‚Ç¨'
                    },
                    { 
                      description: 'Construcci√≥n de edificaciones y estructuras complementarias',
                      items: ['Estructuras de hormig√≥n', 'Cubiertas', 'Carpinter√≠as'],
                      cost: 8668.21,
                      unit: '‚Ç¨'
                    },
                    { 
                      description: 'Urbanizaci√≥n y ordenaci√≥n paisaj√≠stica del entorno',
                      items: ['Viales y senderos', 'Jardiner√≠a', 'Mobiliario urbano'],
                      cost: 4386.79,
                      unit: '‚Ç¨'
                    },
                    { 
                      description: 'Instalaciones t√©cnicas y sistemas de servicios',
                      items: ['Electricidad', 'Fontaner√≠a', 'Telecomunicaciones'],
                      cost: 3788.02,
                      unit: '‚Ç¨'
                    },
                    { 
                      description: 'Acabados finales y elementos decorativos',
                      items: ['Aislamientos', 'Revestimientos', 'Detalles finales'],
                      cost: 1176.46,
                      unit: '‚Ç¨'
                    }
                  ]
                }]
              }}
              options={{
                plugins: {
                  legend: {
                    position: 'right',
                    labels: {
                      padding: 25,
                      usePointStyle: true,
                      pointStyle: 'rectRounded',
                      font: {
                        size: 13
                      }
                    }
                  },
                  tooltip: {
                    callbacks: {
                      title: (context: any) => {
                        return `üèóÔ∏è ${context[0].label}`;
                      },
                      label: (context: any) => {
                        const cost = context.dataset.detailedInfo[context.dataIndex].cost;
                        return `üí∞ Coste: ${cost.toLocaleString('es-ES')} ‚Ç¨ (${context.parsed}%)`;
                      },
                      afterLabel: (context: any) => {
                        const dataIndex = context.dataIndex;
                        const detailedInfo = context.dataset.detailedInfo[dataIndex];
                        const impactInfo = [
                          'üå± Contribuci√≥n sostenible',
                          '‚ôªÔ∏è Materiales reciclables', 
                          'üåø Integraci√≥n paisaj√≠stica',
                          '‚ö° Eficiencia energ√©tica',
                          '‚ú® Acabados ecol√≥gicos'
                        ];
                        
                        const lines = [
                          '',
                          `üìù ${detailedInfo.description}`,
                          ''
                        ];
                        
                        // A√±adir elementos incluidos
                        lines.push('üîß Incluye:');
                        detailedInfo.items.forEach((item: string) => {
                          lines.push(`   ‚Ä¢ ${item}`);
                        });
                        
                        lines.push('');
                        lines.push(`${impactInfo[dataIndex]}`);
                        lines.push(`üìä ${context.parsed}% del coste total del proyecto`);
                        
                        return lines;
                      },
                      footer: () => {
                        return [
                          'Presupuesto total: 30.872,46 ‚Ç¨',
                          'Superficie: 246,63 m¬≤ | Coste/m¬≤: 125,23 ‚Ç¨'
                        ];
                      }
                    }
                  }
                },
                interaction: {
                  intersect: false,
                  mode: 'nearest'
                }
              }}
              height={300}
              client:load
            />
          </Card>
        </AnimatedSection>

        <!-- Timeline de Inversi√≥n -->
        <AnimatedSection animation="slideUp" delay={0.4} client:load>
          <Card title="Cronograma de Inversi√≥n Estimado">
            <InteractiveChart
              id="timelineChart"
              type="line"
              data={{
                labels: ['Mes 1-3', 'Mes 4-6', 'Mes 7-9', 'Mes 10-12', 'Mes 13-15', 'Mes 16-18'],
                datasets: [{
                  label: 'Inversi√≥n Acumulada (%)',
                  data: [15, 35, 55, 75, 90, 100],
                  borderColor: '#8C1D18',
                  backgroundColor: 'rgba(140, 29, 24, 0.1)',
                  borderWidth: 3,
                  fill: true,
                  tension: 0.4
                }]
              }}
              options={{
                plugins: {
                  legend: { display: false }
                },
                scales: {
                  y: {
                    beginAtZero: true,
                    max: 100,
                    title: {
                      display: true,
                      text: 'Porcentaje de Inversi√≥n (%)'
                    }
                  },
                  x: {
                    title: {
                      display: true,
                      text: 'Fase del Proyecto'
                    }
                  }
                }
              }}
              height={300}
              client:load
            />
          </Card>
        </AnimatedSection>
      </div>

      <!-- Datos T√©cnicos Clave -->
      <div class="grid lg:grid-cols-2 gap-12 mt-12">
        <AnimatedSection animation="slideLeft" delay={0.2} client:load>
          <Card title="Datos Clave de la Estructura">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
              <div class="bg-gray-50 p-3 rounded-lg">
                <strong class="text-criaga-red">Cimentaci√≥n:</strong><br>
                Zapatas corridas
              </div>
              <div class="bg-gray-50 p-3 rounded-lg">
                <strong class="text-criaga-red">Hormig√≥n Muros:</strong><br>
                HA-30/F/12/XC4
              </div>
              <div class="bg-gray-50 p-3 rounded-lg">
                <strong class="text-criaga-red">Acero:</strong><br>
                B 500 S
              </div>
              <div class="bg-gray-50 p-3 rounded-lg">
                <strong class="text-criaga-red">Cubierta:</strong><br>
                Losa maciza H.A. 35 cm
              </div>
              <div class="bg-gray-50 p-3 rounded-lg">
                <strong class="text-criaga-red">Acci√≥n Viento:</strong><br>
                0.45 kN/m¬≤
              </div>
              <div class="bg-gray-50 p-3 rounded-lg">
                <strong class="text-criaga-red">Acci√≥n Nieve:</strong><br>
                0.3 kN/m¬≤
              </div>
            </div>
          </Card>
        </AnimatedSection>
        
        <AnimatedSection animation="slideRight" delay={0.4} client:load>
          <Card title="Indicadores de Sostenibilidad">
            <div class="space-y-4">
              <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                <span class="font-medium">Superficie Vegetal</span>
                <span class="text-green-600 font-bold">67.2%</span>
              </div>
              <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
                <span class="font-medium">Gesti√≥n de Residuos</span>
                <span class="text-blue-600 font-bold">0.22%</span>
              </div>
              <div class="flex justify-between items-center p-3 bg-orange-50 rounded-lg">
                <span class="font-medium">Eficiencia Energ√©tica</span>
                <span class="text-orange-600 font-bold">A+</span>
              </div>
              <div class="flex justify-between items-center p-3 bg-purple-50 rounded-lg">
                <span class="font-medium">Ratio m¬≤/Animal</span>
                <span class="text-purple-600 font-bold">150 m¬≤</span>
              </div>
            </div>
          </Card>
        </AnimatedSection>
      </div>
      
      <!-- Normativa y Cumplimiento -->
      <div class="mt-12">
        <AnimatedSection animation="fadeIn" delay={0.6} client:load>
          <Card title="Cumplimiento Normativo (CTE)">
            <Accordion 
              client:load
              items={[
                {
                  id: 'db-si',
                  title: 'DB-SI: Seguridad en caso de Incendio',
                  content: 'El proyecto cumple con las exigencias del DB-SI, considerando la granja un espacio exterior abierto. Se definen sectores de incendio para zonas cerradas como la sala de control (Riesgo Bajo). Se dota de extintores, B.I.E., hidrantes y sistema de detecci√≥n y alarma. La estructura principal (muros y losa de hormig√≥n) garantiza una resistencia al fuego R-90.'
                },
                {
                  id: 'db-sua',
                  title: 'DB-SUA: Seguridad de Utilizaci√≥n y Accesibilidad',
                  content: 'Se garantiza la seguridad frente a ca√≠das con pavimentos de clase 3 (Rd>45). Los desniveles se resuelven con rampas de pendiente controlada (<12%). Aunque no es de obligado cumplimiento por el uso agrario, el dise√±o de la planta baja es accesible. Se instala un sistema de protecci√≥n contra el rayo de Nivel 3.'
                },
                {
                  id: 'db-hs',
                  title: 'DB-HS: Salubridad',
                  content: 'Se asegura la protecci√≥n frente a la humedad en muros y soleras en contacto con el terreno, y en la cubierta vegetal. La ventilaci√≥n es principalmente natural. Se proyecta una red de saneamiento para purines con tratamiento y depuraci√≥n por lagunaje, y una red separada para el aseo. El edificio se considera exento de cumplir la protecci√≥n frente al rad√≥n por su condici√≥n de espacio abierto.'
                },
                {
                  id: 'db-he',
                  title: 'DB-HE: Ahorro de Energ√≠a',
                  content: 'El proyecto est√° exento de cumplir las exigencias de limitaci√≥n de consumo (HE0, HE1, HE2) por ser un edificio agr√≠cola de baja demanda energ√©tica. No obstante, el dise√±o bioclim√°tico (cubierta vegetal, ventilaci√≥n natural) contribuye a un uso racional de la energ√≠a.'
                }
              ]}
            />
          </Card>
        </AnimatedSection>
      </div>
    </Section>

    <!-- Section 6: Pliego de Condiciones -->
    <Section 
      id="pliego" 
      title="Pliego de Condiciones"
      subtitle="Seleccione una unidad de obra para consultar sus especificaciones t√©cnicas, normativa de aplicaci√≥n y proceso de ejecuci√≥n detallado."
    >
      <AnimatedSection animation="fadeIn" client:load>
        <div class="flex flex-wrap justify-center gap-4 mb-8">
          <button class="pliego-btn bg-criaga-red text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:bg-criaga-red-light transition-all duration-200 transform hover:-translate-y-1" data-target="muro">
            Muro de Hormig√≥n
          </button>
          <button class="pliego-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all duration-200 transform hover:-translate-y-1" data-target="viga">
            Viga de Hormig√≥n
          </button>
          <button class="pliego-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all duration-200 transform hover:-translate-y-1" data-target="losa">
            Losa Maciza
          </button>
        </div>
        
        <Card className="min-h-[400px]">
          <div id="pliego-content">
            <!-- Content will be injected by JavaScript -->
          </div>
        </Card>
      </AnimatedSection>
    </Section>

  </main>

  <!-- Footer -->
  <footer class="bg-white border-t border-criaga-gray-light mt-24">
    <div class="container mx-auto px-6 py-12">
      <div class="grid md:grid-cols-3 gap-8">
        <div>
          <Logo size="md" className="mb-4" />
          <p class="text-gray-600 leading-relaxed">
            Un proyecto innovador para la revitalizaci√≥n del mundo rural gallego a trav√©s de la ganader√≠a sostenible 
            y la puesta en valor de las razas aut√≥ctonas.
          </p>
        </div>
        <div>
          <h4 class="font-semibold text-criaga-red mb-4">Navegaci√≥n</h4>
          <ul class="space-y-2 text-gray-600">
            <li><a href="#vision" class="hover:text-criaga-red transition-colors">Visi√≥n General</a></li>
            <li><a href="#programa" class="hover:text-criaga-red transition-colors">Programa Ganadero</a></li>
            <li><a href="#diseno" class="hover:text-criaga-red transition-colors">Dise√±o Arquitect√≥nico</a></li>
            <li><a href="#analisis" class="hover:text-criaga-red transition-colors">An√°lisis T√©cnico</a></li>
            <li><a href="#pliego" class="hover:text-criaga-red transition-colors">Pliego T√©cnico</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-semibold text-criaga-red mb-4">Informaci√≥n del Proyecto</h4>
          <p class="text-gray-600 text-sm leading-relaxed mb-4">
            Proyecto desarrollado por Pedro Citoula P√©rez como Trabajo Fin de M√°ster.
          </p>
          <p class="text-gray-600 text-sm">
            Aplicaci√≥n web interactiva para la exploraci√≥n del proyecto CRIAGA.
          </p>
        </div>
      </div>
      <div class="border-t border-criaga-gray-light mt-8 pt-8 text-center text-gray-500">
        <p>&copy; 2025 Pedro Citoula P√©rez - Proyecto CRIAGA</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Pliego functionality
      const pliegoData = {
        muro: {
          title: 'Unidad EHN030B: Muro de hormig√≥n armado',
          content: `
            <p class="mb-4"><strong>Descripci√≥n:</strong> Muro de hormig√≥n armado de 40 cm de espesor medio, realizado con hormig√≥n HA-30/F/12/XC4 fabricado en central y vertido con cubilote. Armado con acero UNE-EN 10080 B 500 S (cuant√≠a aprox. 51,4 kg/m¬≥).</p>
            <p class="mb-4"><strong>Normativa:</strong> Elaboraci√≥n, transporte y puesta en obra del hormig√≥n seg√∫n el C√≥digo Estructural.</p>
            <h4 class="font-semibold mb-2 text-criaga-red">Proceso de Ejecuci√≥n:</h4>
            <ol class="list-decimal list-inside space-y-1 text-gray-700">
              <li>Replanteo y comprobaci√≥n de armaduras de espera.</li>
              <li>Colocaci√≥n de armadura principal con separadores homologados.</li>
              <li>Vertido y compactaci√≥n del hormig√≥n, evitando la disgregaci√≥n.</li>
              <li>Curado del hormig√≥n para garantizar la resistencia.</li>
            </ol>
          `
        },
        viga: {
          title: 'Unidad EHV030: Viga de hormig√≥n armado',
          content: `
            <p class="mb-4"><strong>Descripci√≥n:</strong> Viga descolgada de hormig√≥n armado, realizada con hormig√≥n HA-25/F/20/X0 fabricado en central y vertido con cubilote. Armado con acero UNE-EN 10080 B 500 S (cuant√≠a aprox. 112,7 kg/m¬≥).</p>
            <p class="mb-4"><strong>Normativa:</strong> C√≥digo Estructural y NTE-EME (Encofrados).</p>
            <h4 class="font-semibold mb-2 text-criaga-red">Proceso de Ejecuci√≥n:</h4>
            <ol class="list-decimal list-inside space-y-1 text-gray-700">
              <li>Montaje de sistema de encofrado con superficie tratada.</li>
              <li>Colocaci√≥n de la armadura con separadores, asegurando recubrimientos.</li>
              <li>Vertido y compactaci√≥n del hormig√≥n.</li>
            </ol>
          `
        },
        losa: {
          title: 'Unidad EHL030: Losa maciza de hormig√≥n armado',
          content: `
            <p class="mb-4"><strong>Descripci√≥n:</strong> Losa maciza horizontal de 35 cm de canto, realizada con hormig√≥n HA-25/F/20/X0. Armado con acero UNE-EN 10080 B 500 S (cuant√≠a aprox. 28,7 kg/m¬≤).</p>
            <p class="mb-4"><strong>Normativa:</strong> C√≥digo Estructural y NTE-EME (Encofrados).</p>
            <h4 class="font-semibold mb-2 text-criaga-red">Proceso de Ejecuci√≥n:</h4>
            <ol class="list-decimal list-inside space-y-1 text-gray-700">
              <li>Montaje de sistema de encofrado continuo sobre puntales.</li>
              <li>Colocaci√≥n de armaduras (inferior, superior, de reparto) con separadores.</li>
              <li>Vertido continuo y compactaci√≥n del hormig√≥n.</li>
            </ol>
          `
        }
      };

      const pliegoButtons = document.querySelectorAll('.pliego-btn');
      const pliegoContent = document.getElementById('pliego-content');

      function updatePliegoContent(target: string) {
        if (pliegoContent && pliegoData[target as keyof typeof pliegoData]) {
          pliegoContent.innerHTML = `
            <h3 class="text-2xl font-bold font-serif text-criaga-red mb-6">${pliegoData[target as keyof typeof pliegoData].title}</h3>
            ${pliegoData[target as keyof typeof pliegoData].content}
          `;
        }
      }

      pliegoButtons.forEach(button => {
        button.addEventListener('click', () => {
          const target = button.getAttribute('data-target');
          if (target) {
            updatePliegoContent(target);
            
            // Update button styles with animation
            pliegoButtons.forEach(btn => {
              btn.classList.remove('bg-criaga-red', 'text-white');
              btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            button.classList.remove('bg-gray-200', 'text-gray-700');
            button.classList.add('bg-criaga-red', 'text-white');
          }
        });
      });

      // Initialize with first option
      updatePliegoContent('muro');

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (this: HTMLAnchorElement, e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href') || '');
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>
</Layout>